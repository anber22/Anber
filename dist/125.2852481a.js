(self.webpackChunkaiot_mobile=self.webpackChunkaiot_mobile||[]).push([[125],{9892:(e,n,t)=>{var i=t(4015),o=t(3645)(i);o.push([e.id,"\n.videoPlayer-box .vjs-custom-skin .video-js {\n  width: 100% !important;\n  height: 100%;\n}\n","",{version:3,sources:["webpack://./src/views/videoPlayer/videoPlayer.vue"],names:[],mappings:";AA6FA;EACA,sBAAA;EACA,YAAA;AACA",sourcesContent:["<template>\n  <div class=\"videoPlayer-box\">\n    <p class=\"title\">\n      {{ title }}\n    </p>\n    <div class=\"video-center\">\n      <div class=\"video-content\">\n        <video-player\n          ref=\"videoPlayer\"\n          class=\"vjs-custom-skin\"\n          :options=\"playerOptions\"\n          @play=\"onPlayerPlay($event)\"\n          @ready=\"onPlayerReady($event)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport VideoPlayer from 'cmp/videoPlayer/VideoPlayer.vue'\nimport Config from '/config.json'\nimport VideoUUID from '@/utils/videoUUID'\nexport default {\n  components: {\n    VideoPlayer\n  },\n  data() {\n    return {\n      title: '',\n      // nowPlayVideoUrl: 'http://ivi.bupt.edu.cn/hls/cctv6hd.m3u8', // cctv6的hls视频流，测试用de\n      playerOptions: {\n        autoplay: true,\n        controls: true,\n        muted: true,\n        controlBar: {\n          timeDivider: false,\n          durationDisplay: false\n        }\n        // ,\n        // poster: require('@/assets/images/home/banner-2.jpg')\n      }\n    }\n  },\n  computed: {\n    player() {\n      return this.$refs.videoPlayer.player\n    }\n  },\n  mounted() {\n    if (this.$route.query) {\n      let source, videoUrl\n      if (Reflect.has(Config, 'videoUrl')) {\n        videoUrl = Config.videoUrl\n      }\n      this.title = this.$route.query.equipTypeName + '-' + this.$route.query.placeName + this.$route.query.equipAddress\n      const imei = this.$route.query.imei\n      if (VideoUUID.match(imei)) {\n        source = videoUrl + '/mag/hls/' + VideoUUID.match(imei) + '/0/live.m3u8'\n      }\n      // else {\n      //   source = videoUrl + '/mag/hls/d52ef1c486394c7fa5159b4eb374d4fc/0/live.m3u8'\n      // }\n      this.playVideo(source)\n    }\n  },\n  methods: {\n    onPlayerPlay(player) {\n      this.player.play()\n    },\n    onPlayerReady(player) {\n      this.player.play()\n    },\n    playVideo(source) {\n      const video = {\n        withCredentials: false,\n        type: 'application/x-mpegurl',\n        src: source\n      }\n      this.player.reset() // in IE11 (mode IE10) direct usage of src() when <src> is already set, generated errors,\n      this.player.src(video)\n      // this.player.load()\n      this.player.play()\n    }\n    // ,\n    // switchPlayer() {\n    //   this.playVideo(this.src)\n    // }\n  }\n}\n<\/script>\n<style scoped src='./videoPlayer.css'></style>\n<style>\n.videoPlayer-box .vjs-custom-skin .video-js {\n  width: 100% !important;\n  height: 100%;\n}\n</style>\n"],sourceRoot:""}]),e.exports=o},1922:(e,n,t)=>{var i=t(4015),o=t(3645)(i);o.push([e.id,".videoPlayer-box[data-v-442d5f3f]{\n  /* position: absolute !important; */\n  width: 100%;\n  height: 100%;\n  background-color: #000;\n  position: fixed\n}\n.video-center[data-v-442d5f3f] {\n  position: fixed;\n  top: 45%;\n  left: 50%;\n  width: 100%;\n  position: absolute;\n  padding-bottom: 76%;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n}\n.video-content[data-v-442d5f3f]{\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: #000;\n}\n.title[data-v-442d5f3f]{\n  color: #8BA3C2;\n  font-size: 15px;\n  overflow: hidden;\n  text-overflow:ellipsis;\n  white-space: nowrap;\n  line-height: 40px;\n  margin-left: 8px;\n}","",{version:3,sources:["webpack://./src/views/videoPlayer/videoPlayer.css"],names:[],mappings:"AAAA;EACE,mCAAmC;EACnC,WAAW;EACX,YAAY;EACZ,sBAAsB;EACtB;AACF;AACA;EACE,eAAe;EACf,QAAQ;EACR,SAAS;EACT,WAAW;EACX,kBAAkB;EAClB,mBAAmB;EACnB,oDAAoD;AACtD;AACA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,sBAAsB;AACxB;AACA;EACE,cAAc;EACd,eAAe;EACf,gBAAgB;EAChB,sBAAsB;EACtB,mBAAmB;EACnB,iBAAiB;EACjB,gBAAgB;AAClB",sourcesContent:[".videoPlayer-box[data-v-442d5f3f]{\n  /* position: absolute !important; */\n  width: 100%;\n  height: 100%;\n  background-color: #000;\n  position: fixed\n}\n.video-center[data-v-442d5f3f] {\n  position: fixed;\n  top: 45%;\n  left: 50%;\n  width: 100%;\n  position: absolute;\n  padding-bottom: 76%;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n}\n.video-content[data-v-442d5f3f]{\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: #000;\n}\n.title[data-v-442d5f3f]{\n  color: #8BA3C2;\n  font-size: 15px;\n  overflow: hidden;\n  text-overflow:ellipsis;\n  white-space: nowrap;\n  line-height: 40px;\n  margin-left: 8px;\n}"],sourceRoot:""}]),e.exports=o},8125:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>v});var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"videoPlayer-box"},[t("p",{staticClass:"title"},[e._v("\n    "+e._s(e.title)+"\n  ")]),e._v(" "),t("div",{staticClass:"video-center"},[t("div",{staticClass:"video-content"},[t("video-player",{ref:"videoPlayer",staticClass:"vjs-custom-skin",attrs:{options:e.playerOptions},on:{play:function(n){return e.onPlayerPlay(n)},ready:function(n){return e.onPlayerReady(n)}}})],1)])])};i._withStripped=!0;var o=t(8228),s=t(150),a=t(8777);const r={components:{VideoPlayer:o.Z},data:function(){return{title:"",playerOptions:{autoplay:!0,controls:!0,muted:!0,controlBar:{timeDivider:!1,durationDisplay:!1}}}},computed:{player:function(){return this.$refs.videoPlayer.player}},mounted:function(){if(this.$route.query){var e,n;Reflect.has(s,"videoUrl")&&(n=s.videoUrl),this.title=this.$route.query.equipTypeName+"-"+this.$route.query.placeName+this.$route.query.equipAddress;var t=this.$route.query.imei;a.Z.match(t)&&(e=n+"/mag/hls/"+a.Z.match(t)+"/0/live.m3u8"),this.playVideo(e)}},methods:{onPlayerPlay:function(e){this.player.play()},onPlayerReady:function(e){this.player.play()},playVideo:function(e){var n={withCredentials:!1,type:"application/x-mpegurl",src:e};this.player.reset(),this.player.src(n),this.player.play()}}};var l=t(3379),d=t.n(l),p=t(70),c=t.n(p);d()(c(),{insert:"head",singleton:!1}),c().locals;var A=t(7710),u=t.n(A);d()(u(),{insert:"head",singleton:!1}),u().locals;var y=(0,t(1900).Z)(r,i,[],!1,null,"442d5f3f",null);y.options.__file="src/views/videoPlayer/videoPlayer.vue";const v=y.exports},7710:(e,n,t)=>{var i=t(9892);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),(0,t(5346).Z)("4daac3e1",i,!1,{})},70:(e,n,t)=>{var i=t(1922);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),(0,t(5346).Z)("4de5d21f",i,!1,{})}}]);
//# sourceMappingURL=125.2852481a.js.map