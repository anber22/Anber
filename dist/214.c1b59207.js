(self.webpackChunkaiot_mobile=self.webpackChunkaiot_mobile||[]).push([[214],{303:(n,e,t)=>{"use strict";t.d(e,{Z:()=>l});var i=t(2137),a=t(6610),o=t(5991),s=t(7757),r=t.n(s),A=t(1452);const l=new(function(){function n(){(0,a.Z)(this,n)}var e,t,s,l,p,c,u;return(0,o.Z)(n,[{key:"statusCounting",value:(u=(0,i.Z)(r().mark((function n(e){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,A.Z)({url:"/apis/equip/system/".concat(e.system,"/status/counting?type=").concat(e.type),method:"get"});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),function(n){return u.apply(this,arguments)})},{key:"monitorCounting",value:(c=(0,i.Z)(r().mark((function n(e){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,A.Z)({url:"/apis/equip/system/".concat(e.type,"/heartbeat/analysis/latest"),method:"get"});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),function(n){return c.apply(this,arguments)})},{key:"fifteenCounting",value:(p=(0,i.Z)(r().mark((function n(e){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,A.Z)({url:"/apis/equip/system/".concat(e.system,"/heartbeat/latest/counting?days=").concat(e.days),method:"get"});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),function(n){return p.apply(this,arguments)})},{key:"equipInfoList",value:(l=(0,i.Z)(r().mark((function n(e){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,A.Z)({url:"/apis/equip/type/".concat(e.systemType,"/place/page/").concat(e.page,"/size/").concat(e.size).concat(e.conditionStr),method:"get"});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),function(n){return l.apply(this,arguments)})},{key:"equipRealTimeInfoList",value:(s=(0,i.Z)(r().mark((function n(e,t){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,A.Z)({url:"/apis/equip/".concat(t,"/list/finder"),method:"post",data:e});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),function(n,e){return s.apply(this,arguments)})},{key:"equipUntreatedEventList",value:(t=(0,i.Z)(r().mark((function n(e){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,A.Z)({url:"/apis/equip/event/undone/counting/finder",method:"post",data:e});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),function(n){return t.apply(this,arguments)})},{key:"equipDtailInfo",value:(e=(0,i.Z)(r().mark((function n(e){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,A.Z)({url:"/apis/equip/id/".concat(e),method:"get"});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),function(n){return e.apply(this,arguments)})}]),n}())},5784:(n,e,t)=>{"use strict";t.d(e,{Z:()=>l});var i=t(2137),a=t(6610),o=t(5991),s=t(7757),r=t.n(s),A=t(1619);const l=new(function(){function n(){(0,a.Z)(this,n)}var e;return(0,o.Z)(n,[{key:"conversion",value:(e=(0,i.Z)(r().mark((function n(e,t,i,a){var o;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A.Z.getters[e];case 2:return o=n.sent,Array.isArray(a)?a.forEach((function(n){n[i]=o.filter((function(e){return e.id===n[t]}))[0].name})):a[i]=o.filter((function(n){return n.id===a[t]}))[0].name,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)}))),function(n,t,i,a){return e.apply(this,arguments)})}]),n}())},9729:(n,e,t)=>{var i=t(4015),a=t(3645)(i);a.push([n.id,"\n.infoRows{\n  width: 100%;\n  height: 4%;;\n  font-size: 12px;\n  font-family: PingFang SC;\n  font-weight: 400;\n  display: flex;\n  flex-direction: row;\n}\n.row-name{\n  height: 100%;\n  color: #6F85A2;\n  width: 26%;\n  display: flex;\n  align-items: center;\n  flex-direction: row-reverse;\n}\n.row-info-value{\n  height: 100%;\n  color: #B9CEE9;\n  width: 64%;\n  display: flex;\n  padding-left: 6%;\n  align-items: center;\n}\n.row-status-value{\n  height:100% ;\n  width: 64%;\n  display: flex;\n  align-items: center;\n}\n.row-place-value{\n  height: 100%;\n  font-size: 12px;\n  font-family: PingFang SC;\n  font-weight: 400;\n  text-decoration: underline;\n  color: #06F0FE;\n  width: 64%;\n  display: flex;\n  padding-left: 6%;\n  align-items: center;\n}\n.infoRows-address-icon{\n  vertical-align: middle;\n\n  width: 11px;\n  height: 16px;\n  margin-left: 8px;\n}\n","",{version:3,sources:["webpack://./src/components/infoRows/InfoRows.vue"],names:[],mappings:";AAqDA;EACA,WAAA;EACA,UAAA;EACA,eAAA;EACA,wBAAA;EACA,gBAAA;EACA,aAAA;EACA,mBAAA;AACA;AACA;EACA,YAAA;EACA,cAAA;EACA,UAAA;EACA,aAAA;EACA,mBAAA;EACA,2BAAA;AACA;AACA;EACA,YAAA;EACA,cAAA;EACA,UAAA;EACA,aAAA;EACA,gBAAA;EACA,mBAAA;AACA;AACA;EACA,YAAA;EACA,UAAA;EACA,aAAA;EACA,mBAAA;AACA;AACA;EACA,YAAA;EACA,eAAA;EACA,wBAAA;EACA,gBAAA;EACA,0BAAA;EACA,cAAA;EACA,UAAA;EACA,aAAA;EACA,gBAAA;EACA,mBAAA;AACA;AACA;EACA,sBAAA;;EAEA,WAAA;EACA,YAAA;EACA,gBAAA;AACA",sourcesContent:['<template>\n  <div class="infoRows">\n    <div class="row-name">\n      {{ data.name }}\n    </div>\n    <div v-if="data.typed===\'info\'" class="row-info-value">\n      {{ data.content }}\n    </div>\n    <div v-else-if="data.typed===\'status\'" class="row-status-value">\n      <EquipStatus :electricity="data.content.equipPower" :signal="data.content.equipSignal" :status="data.content.onlineType" />\n    </div>\n    <div v-else-if="data.typed===\'place\'" class="row-place-value" @click="showDetail(data.content.placeId)">\n      {{ data.content.name }}\n      <img src="@/assets/images/equip/address.png" alt="" class="infoRows-address-icon">\n    </div>\n  </div>\n</template>\n\n<script>\nimport EquipStatus from \'cmp/equipStatus/EquipStatus\'\n\nexport default {\n  components: {\n    EquipStatus\n  },\n  props: {\n    data: {\n      type: Object,\n      // eslint-disable-next-line vue/require-valid-default-prop\n      default: {}\n    }\n  },\n  data() {\n    return {\n\n    }\n  },\n  mounted() {\n  },\n  methods: {\n    showDetail(e) {\n      this.$router.push({\n        path: \'/placeResourcDetail\',\n        query: {\n          placeId: e\n        }\n      })\n    }\n  }\n}\n<\/script>\n\n<style>\n.infoRows{\n  width: 100%;\n  height: 4%;;\n  font-size: 12px;\n  font-family: PingFang SC;\n  font-weight: 400;\n  display: flex;\n  flex-direction: row;\n}\n.row-name{\n  height: 100%;\n  color: #6F85A2;\n  width: 26%;\n  display: flex;\n  align-items: center;\n  flex-direction: row-reverse;\n}\n.row-info-value{\n  height: 100%;\n  color: #B9CEE9;\n  width: 64%;\n  display: flex;\n  padding-left: 6%;\n  align-items: center;\n}\n.row-status-value{\n  height:100% ;\n  width: 64%;\n  display: flex;\n  align-items: center;\n}\n.row-place-value{\n  height: 100%;\n  font-size: 12px;\n  font-family: PingFang SC;\n  font-weight: 400;\n  text-decoration: underline;\n  color: #06F0FE;\n  width: 64%;\n  display: flex;\n  padding-left: 6%;\n  align-items: center;\n}\n.infoRows-address-icon{\n  vertical-align: middle;\n\n  width: 11px;\n  height: 16px;\n  margin-left: 8px;\n}\n</style>\n'],sourceRoot:""}]),n.exports=a},2126:(n,e,t)=>{var i=t(4015),a=t(3645)(i);a.push([n.id,"\n.iotApp-detail{\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  background-color: rgba(16, 23, 32, 1);\n}\n.tab-content{\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  color: white\n}\n.iotApp-detail-title-icon{\n  height: 17px;\n  width: 4px;\n}\n.iotApp-detail-title{\n  font-size: 20px;\n  margin-left: 8.5%;\n  margin-top: 5%;\n}\n.demo-carousel{\n  width: 100%;\n  height: 100%;\n}\n","",{version:3,sources:["webpack://./src/views/aiot/iotAppDetail.vue"],names:[],mappings:";AAsMA;EACA,WAAA;EACA,YAAA;EACA,eAAA;EACA,qCAAA;AACA;AACA;EACA,WAAA;EACA,YAAA;EACA,eAAA;EACA;AACA;AACA;EACA,YAAA;EACA,UAAA;AACA;AACA;EACA,eAAA;EACA,iBAAA;EACA,cAAA;AACA;AACA;EACA,WAAA;EACA,YAAA;AACA",sourcesContent:["<template>\n  <div class=\"iotApp-detail\">\n    <van-tabs v-model=\"active\" swipeable color=\"#06F0FE\" title-active-color=\"#06F0FE\" title-inactive-color=\"#8BA3C2\" background=\"rgba(16, 23, 32, 1)\" sticky ellipsis @change=\"tabChange\">\n      <van-tab v-for=\"item in tabList\" :key=\"item.index\" :title=\"item.title\" class=\"tab-content\">\n        <div v-if=\"item.index===0\">\n          <div class=\"iotApp-detail-title\">\n            <img src=\"@/assets/images/home/title-icon.png\" alt=\"\" class=\"iotApp-detail-title-icon\">\n            设备信息\n          </div>\n          <InfoRow v-for=\"(rowItem,index) in rowList\" :key=\"index\" :data=\"rowItem\" />\n        </div>\n        <div v-show=\"item.index===1\">\n          <div class=\"demo-carousel\">\n            <VideoPlayer\n              ref=\"equipDetailVideoPlayer\"\n              class=\"vjs-custom-skin\"\n              :options=\"playerOptions\"\n              @play=\"onPlayerPlay($event)\"\n              @ready=\"onPlayerReady($event)\"\n            />\n          </div>\n        </div>\n        <div v-if=\"item.index===2\">\n          日志\n        </div>\n      </van-tab>\n    </van-tabs>\n  </div>\n</template>\n\n<script>\n\nimport InfoRow from '@/components/infoRows/InfoRows'\nimport ReadTypeNameOnVuex from '@/utils/readTypeNameOnVuex'\nimport VideoPlayer from 'cmp/videoPlayer/VideoPlayer'\nimport VideoUUID from '@/utils/videoUUID'\nimport Config from '/config.json'\n\nimport Api from '@/api/aiot/iotApp.js'\nexport default {\n  name: 'EquipDeail',\n  components: {\n    InfoRow,\n    VideoPlayer\n  },\n\n  data() {\n    return {\n      active: 0,\n      tabList: [\n        {\n          index: 0,\n          title: '基本信息'\n        },\n        {\n          index: 1,\n          title: '实时数据'\n        },\n        {\n          index: 2,\n          title: '绑定日志'\n        }\n      ],\n      playerOptions: {\n        autoplay: true,\n        controls: true,\n        muted: true,\n        controlBar: {\n          timeDivider: false,\n          durationDisplay: false\n        }\n        // ,\n        // poster: require('@/assets/images/home/banner-2.jpg')\n      },\n      rowList: [],\n      equipId: 0,\n      equipInfo: {}\n    }\n  },\n  computed: {\n    player() {\n      console.log('dom', this.$refs.equipDetailVideoPlayer[0].player)\n      return this.$refs.equipDetailVideoPlayer[0].player\n    }\n  },\n  mounted() {\n    this.equipId = this.$route.query.id\n    this.getEquipDetailInfo()\n    setTimeout(() => {\n      let source, videoUrl\n\n      if (Reflect.has(Config, 'videoUrl')) {\n        videoUrl = Config.videoUrl\n      }\n\n      if (VideoUUID.match(this.equipInfo.imei)) {\n        source = videoUrl + '/mag/hls/' + VideoUUID.match(this.equipInfo.imei) + '/0/live.m3u8'\n      }\n      console.log('视频路径', source)\n      this.playVideo(source)\n    }, 1000)\n  },\n  methods: {\n    tabChange(e) {\n      console.log('切换tab', e)\n      console.log('imei', this.equipInfo)\n      if (e === 1) {\n        console.log('查看视频')\n      } else {\n        return\n      }\n    },\n    async getEquipDetailInfo() {\n      const res = await Api.equipDtailInfo(this.equipId)\n\n      let equipDetailInfo = {}\n      if (res.code === 200) {\n        equipDetailInfo = { ...res.data }\n      }\n      equipDetailInfo = await ReadTypeNameOnVuex.conversion('equipType', 'equipType', 'equipTypeName', equipDetailInfo)\n      equipDetailInfo = await ReadTypeNameOnVuex.conversion('platformList', 'platformId', 'platformName', equipDetailInfo)\n\n      this.rowList = [\n        {\n          name: '设备状态:',\n          content: {\n            equipPower: equipDetailInfo.equipPower,\n            equipSignal: equipDetailInfo.equipSignal,\n            onlineType: equipDetailInfo.onlineType\n          },\n          typed: 'status'\n        }, {\n          name: '设备名称:',\n          content: equipDetailInfo.equipName,\n          typed: 'info'\n        }, {\n          name: '设备型号:',\n          content: equipDetailInfo.equipModel,\n          typed: 'info'\n        }, {\n          name: '设备类型:',\n          content: equipDetailInfo.equipName,\n          typed: 'info'\n        }, {\n          name: 'IMEI码:',\n          content: equipDetailInfo.imei,\n          typed: 'info'\n        },\n        {\n          name: '所属辖区:',\n          content: equipDetailInfo.departName,\n          typed: 'info'\n        },\n        {\n          name: '安装位置:',\n          content: equipDetailInfo.equipAddress,\n          typed: 'info'\n        },\n        {\n          name: '所属网点:',\n          content: {\n            name: equipDetailInfo.placeName,\n            placeId: equipDetailInfo.placeId\n          },\n          typed: 'place'\n        },\n        {\n          name: '物联网平台:',\n          content: 'OneNet',\n          typed: 'info'\n        }\n      ]\n      this.equipInfo = equipDetailInfo\n    },\n    onPlayerPlay(player) {\n      this.player.play()\n    },\n    onPlayerReady(player) {\n      console.log('准备播放', this.$refs.equipDetailVideoPlayer[0].player, player)\n      this.player.play()\n    },\n    playVideo(source) {\n      const video = {\n        withCredentials: false,\n        type: 'application/x-mpegurl',\n        src: source\n      }\n      console.log('播放器', this.player)\n      this.player.reset() // in IE11 (mode IE10) direct usage of src() when <src> is already set, generated errors,\n      this.player.src(video)\n      // this.player.load()\n      this.player.play()\n    }\n  }\n}\n<\/script>\n\n<style>\n.iotApp-detail{\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  background-color: rgba(16, 23, 32, 1);\n}\n.tab-content{\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  color: white\n}\n.iotApp-detail-title-icon{\n  height: 17px;\n  width: 4px;\n}\n.iotApp-detail-title{\n  font-size: 20px;\n  margin-left: 8.5%;\n  margin-top: 5%;\n}\n.demo-carousel{\n  width: 100%;\n  height: 100%;\n}\n</style>\n"],sourceRoot:""}]),n.exports=a},7714:(n,e,t)=>{var i=t(4015),a=t(3645)(i);a.push([n.id,".equip-status{\n  height: 19px;\n  width: 90px;\n  /* display: inline-block; */\n  color: #ffffff;\n  float: right;\n}\n.wifi{\n  width: 13px;\n  height: 10px;\n  float: right;\n  display: inline-block;\n  vertical-align: middle;\n  margin-left: 10%;\n  margin-top: 7%\n}\n.battery{\n  width: 13px;\n  height: 10px;\n  vertical-align: middle;\n  margin-left: 10%;\n  float: right;\n  display: inline-block;\n  margin-top: 7%\n}\n.status-name{\n  width: 25px;\n  height: 21px;\n  line-height: 21px;\n  font-size: 12px;\n  font-family: PingFang SC;\n  font-weight: 600;\n  /* color: #29CF7B; */\n  margin-left: 10%;\n  display: inline-block;\n  float: right;\n}","",{version:3,sources:["webpack://./src/components/equipStatus/EquipStatus.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,WAAW;EACX,2BAA2B;EAC3B,cAAc;EACd,YAAY;AACd;AACA;EACE,WAAW;EACX,YAAY;EACZ,YAAY;EACZ,qBAAqB;EACrB,sBAAsB;EACtB,gBAAgB;EAChB;AACF;AACA;EACE,WAAW;EACX,YAAY;EACZ,sBAAsB;EACtB,gBAAgB;EAChB,YAAY;EACZ,qBAAqB;EACrB;AACF;AACA;EACE,WAAW;EACX,YAAY;EACZ,iBAAiB;EACjB,eAAe;EACf,wBAAwB;EACxB,gBAAgB;EAChB,oBAAoB;EACpB,gBAAgB;EAChB,qBAAqB;EACrB,YAAY;AACd",sourcesContent:[".equip-status{\n  height: 19px;\n  width: 90px;\n  /* display: inline-block; */\n  color: #ffffff;\n  float: right;\n}\n.wifi{\n  width: 13px;\n  height: 10px;\n  float: right;\n  display: inline-block;\n  vertical-align: middle;\n  margin-left: 10%;\n  margin-top: 7%\n}\n.battery{\n  width: 13px;\n  height: 10px;\n  vertical-align: middle;\n  margin-left: 10%;\n  float: right;\n  display: inline-block;\n  margin-top: 7%\n}\n.status-name{\n  width: 25px;\n  height: 21px;\n  line-height: 21px;\n  font-size: 12px;\n  font-family: PingFang SC;\n  font-weight: 600;\n  /* color: #29CF7B; */\n  margin-left: 10%;\n  display: inline-block;\n  float: right;\n}"],sourceRoot:""}]),n.exports=a},4518:n=>{n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAfCAYAAADjuz3zAAAEvklEQVRIS7VWbYhUZRg9571zb37uvaNrLEloaiWJqVQoZdAXCmq2YZkVgdAqIYREQplZoagQRYvgj9Qs60eaqMiuhYZFP0zyo0wpIwtNcNN0nTurls479564d3bH2Y9xIej9OfM85z3Pec7z3Jf4nw6r4XqtGgODp0RNJjBSQH8ClwQcF/lNUfgUAX+vlt8dONRIj3oPwgwAVS8WEAPabF2zCP3Z0vWCTolOrlhvaD4mMLAjUEAbhKMEQgEBiLEEair+bxU4uxjwq0rwMrCTU72hthDIJAECDsaKl0eB8znIYjlJyjhhNM3QLCVwdxpLXJE4vRK8BBxqpCsdJjEgiYuhlUXfvAEyrtpbyWQuYrmJtTiRTECrLXIcank6yUmBvVzcBKaaIoZWFAPn9RRQ6uu2oYHCdEF1BM4oVrPNmvUgryQhmVCrDPRqqUpttoEzJwX2LmoMIh0t3coD1seklGmoES70BYHburIW+IsFpiHgCUiOG+oAiQlJQy0Lo+H3OU4vr2WQlibJkeGjUQ2bIfVx8zpM4PZqUgg4Zn1OAHk1abpDs729yjcLWWcZ3TD+msADEtpswMFJo9x8tIDimt5mR+ALNuD7OCjXHaXWxE0C9tjAPEIvF58CcbOEvTZrJqea59UEKdX8eicWmopZMzOJcfPaS+leCKcKWTMsYXyeQMJ0Z8FnCuaG8X4C9/QGLGC/DczEdjI7IU1L3RGYWnphfALAcBHfWt/cl3Y6H+8wQsqkF8Y7illT305mH4FJAE4WAnNLArwLwBQJl2zAQSCtG6qB0LregCU+b7PcAMlz86nGyRzsLgRmKjOhFhtoZeoKcVaU5Tb8JM8dqkSOcddxxQ/W58SEiNNafMJxzJbSHPC1YsBVRE7DXeo3Ao6EIzbgXekI/62hbkFNBCZ09zEOWcuZGMIWSBk31PckxgqIrDgKWZ5MJ8/N60NKc0vDpkabdV5q92TGbcPTUDwDYh3IP0k0F2qwqWN/uLmokeTCNJfcaH2mOKVdcUY3en30I4C6dvDVNjCLkjKr6iy5bhvepfRimgOctQ7vxED+dQ24xHoSYn3Zvogg4WcqXlHIOttB/lO+oEX9vP6oF7CE0h3toJdkOKVYw30dcZ32sXteE5nRVgBDOwIEXAV4DFIepX08msANFZWcFjnL+vyusrruX4i8BrnCSkDzCJiqriAiSOsszRL4vNA1ruqnx8nrWUf6pKfPU7LFYnBOFDC1WE+nKnBpmqJ1BBu62Y1stD5LzvkvwGhVjefoCIBhFZr/an2O79TQHsCvyziJz4R62EC7AZhkABRF9xcHu+Xu98743OWbUNvvLMioa7AbRmsILgD0diFwXukGJmVwGbUYwDOd7Obk9JxDbQTQAnJDIcYHyPKPMoDU18tFswpZ5zOQhfLvoUZ4iBtAzoVQFzF+JvIzm8oDkmnTyybWOxU6RgR2RYrXRoHT3KkKyfPyeEzQfAAPVVpS5ELrc3UZGJJxLkRPGsfMJ/BgJ4sJLUI6kedEUwdpKoEhFSSSJ8KeGPHaqNHZhrdKT4aeBuRWT5gnaG4lQDddiWSzfVSAWZ9+rbuc6q4olfw4oNkAxqv0rMoBOhTLbI4CJBJdeyF1Af4X0241PrdGWL0AAAAASUVORK5CYII="},3803:n=>{n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAQCAYAAAAFzx/vAAABVklEQVRIS92VPUvDUBSG3zca7FT34thBsyQRF8W5/8BBVIqbCJ10axDB24pQcNHWDxBBB92c/A1ubZemKt0EwUUdKhqaHIlSNINLSTt49/s+9xzOcy7TN7mknhjdIyQj4BDiPoI2iIprqZ0wmkbNOREgI8AuNbzHzWMgYwDXhVxyza0LGnXnMQiw0bTVcdywbp5RzV8J+OraKhtW+CyQFdcqXKbvcyP6W/IQAWcIYc8PIDwRll1b7YcZRs05E2DYtdR8BDhezWc18rRn0K+LAvE96qmWufn0J9CoOWsASnEAw4xOx5+4m9pufgNl1g9kNVJhP4EAFgE8DBr48u+Bg2tpODShflEt6vmsJjFpIeJ72keqZZa+tACRaJhqLir+dW5ETyXLFE6DvYsvhAefB+6kqnTF/wEOaLUBbDdstTCw5e0jWL61iufs+/cEtEk5apiFYtjeTxx1EgyLVwHMAAAAAElFTkSuQmCC"},5790:n=>{n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAQCAYAAAAFzx/vAAABH0lEQVRIS93VQStEURgG4Pe9ZqGUJHNt/I8pTco9mn9gISS7SbFhbamUEikZZcOCnR/g3PwYpTOGa9KV1NxXVzLdKas79y6c/fme73z1foearI2jMnYCoAFiBMM/MRKc8incT0tT08EFxAaAQwgfQ/c8zUDcQYJVduw15ZtHULt04fnQsZ+C8s0tgC7bdo3ygwhkk87eaMrMw1PrFyZe6MJa3kbkm0sQFTq7lAWrZgsejjLAJycY3XXzoH+DvtkGcZAp/t6r8u2+kx9UHQk2si8sFMQKpIeywdd/D5Y5UtUhNQdisbAJT8eFxAIYZdsuDoDBHDyc9UFGdHY2TyTSu9857IMlrTYqpguXy1vePazz2V6x+O+JMYAWnd1Lx/sFxJ/fTYWJo3QAAAAASUVORK5CYII="},1868:n=>{n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAARCAYAAADKZhx3AAABM0lEQVRIS8WVMS8EURSFzxkz4x+ISuIHqDQkik0kotSJZEWj1aCVeTMhURCtQkujUqhItpBQqDR+gWILW0iW5o05MruKsSGejZl59cn97n0591xKZgypTgAsAgxQ1iOeIR0yiPdzBGWjSxBTyLgLjy+lcN9FeJoGsAVqmX5yTlljIWwwNMelQAtFZc09iAf6Zj0HC2STfnQqmRApbgBM/NJEG353jjx4/UuzsqYF4om+WR0EzyDFnVuxbIFBcuWm7at+Btt4HtC1UzFyiX504aT9FPXAwiSE7a8TVwEGGiDe6gH316lgrqomrhFcw1fn5vKwOfDVO7PAyK2bU4dcJ6HN0Kx8FyAtpwDpdBscHyJACuBqI1N6ZBivVX8kMjY5as5Y3VlUB9IRg2SvdxbdjPT/qg+zYOl8wSfHhQAAAABJRU5ErkJggg=="},1772:n=>{n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAASCAYAAACuLnWgAAACwklEQVRIS61US0iUYRQ95/vHV4JEgYuSsix1RnIctQLphUFIQQvDFhVEtQiCKGuhOEoTOaKLsgiCFhVBtUhyERQRJL0IKnVmFGfUsiyshVCEYL7m/26oaePoOEb923se9557v5+Y50v1nFwcrxI3K808IdIAJAOIBTAKoJ+CHq2kZVgPvuh1XPwRSYqzClJiZLSnFxsaRwAUAoyZr5HJmowBaDIVrnWt624EG8xQzgwTm8dZAqIG4JrowpEQ8h6CCr/D3TCFmDBJ87mSY2XsOsFd4VQR+UaFl1qjgwpfKGpYqONFY7lSyBKNTSSXzuJBHowy5nCP3dVPm7fKAch9ACkhwKBouaeVXO2yxz4DXTriZOJSGb7RrUrzKBX3ALCEYPsA7qbN4+wAaZsqCORJ0OTxd3nVgb+NbG1LpdViyGWC26e5In5mtjsLaOIRwQQNKevMcdePbzLUYHVz2YoYw7JRgalCSaBwSEN6x8zg6w/5dZ/DmmGm11mqwDqBDImBoomdWH0VuaJ1Uqej9umfDlwWa1vwIESOEXAAnH2JEBHAA/JKINtyE3QFp/iZnvJtVGogYK9pnYMIpHudGyxQNwCZjjF6dPQHoQ9157jfhGNnmVg9lTup0AhBXChYRD6RaAMwACBJBNkkV84QJEZEozjgqH4Y8Z1MRNfq3AI1uSMBNAS3TBm70J1b5wvvML21ym5QToE4QECN7wAaRYFc9/N5TcaLmd7yHYRxXpvmia682qZoUWW0lBcqw7gkME935tQ+jhrXfIIpr0qXJMXFZw2MDHf0FdR/j2Y+48UvBDyxK8pdgImADIpwb3j2kXTmvK65wFaP8yPJ1OlHK9IbcLhXLaTBBZvYvJUjv3/zU7qj/pzqGRf4z5PYfJW3Idg3LUTc8dur9//XSZY1n1mUpIJVSmG91ng7oC3nvuaf/bkQk1/EKA7D1YiOSwAAAABJRU5ErkJggg=="},2973:n=>{n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAWCAYAAAArdgcFAAADUklEQVRIS6WVXWgcVRTHf/+ZVEitGk12Bqn0qdVqa6GICFri7uxDqhgsasEXBRGqscUqsagQ1CqiRWPBilUKQgWRUrViRBTdTUIagwqCNTUP1ge1lO6saarGNt1k5sh+5MPdbRrifbv3nvM7/3vmnDOiatkl6WaWWh9GjjDeKPqmqm0WulcNvCV1K67TVzo3e0Rhdu9CYdV2tXBw8YMfQGvAThLHq5TvG19MgBp4SXBL0I6rTyrqdyrMPmeJ4DakFRgTKD7JZGFEY4O/zRe0LrwUwAv6kVoxGwetxOx2HL3zH5jZcaCHyPZrtPebedNiieQG5LxMzC7MQlwNIQmzvYTZbZV0ra2r1jgM9qTC7NfT9yXlxg1L8S7vhvihEgz7iVx2HX7wPmgzZpPEKkKX49IJrMBsNdKSqpcY8Bbh2U4xdFbWHCzHVQ9i/YyhEaG4jdh+xXGPAhdhfKgwc8+0jfnrLobmNObcD2xCuLP+9j3xuXaZHwyXK6OyzL4kcrZr9KuRcu5TbyBnK2YGukVhZqimfJuTq3Hd3YiNs3c2XIR3gV7AbApTp/KZ1+c6m3+zhzX+jLgUY0BhptXY7IqDUU2QRLAN8Vo5XdZVzrmX2oFxVPnez2Ye0JRsYok6mLB9NKoDOc+X7+I7wRnG+BjZASYKb+rPw2Mzfl6qDZy1CjPd9evcC+5D2g00E9senIansaio/kpghNwV15M41Y3DduAUFj+usPfdC3eoF7yC9MQcwwJxtAYpQM7b5XPbwpn4EI3uMcRllWZ7VWF2x9wAte3vp3uAOyoOx8FeYtJ9j7Gpf/DdI8C1GCcIT6/Cb3oMeLEC/FS5TPv88ERyGXI+R5wgOveg/hj8ezafyU3IPVRR30Uu7sZ39mNchcVt1TPovO1fUwkkG4rj17z0AGIDxl+cKazU+EC+2nZ6vyC4taSuwdUXxFEHajgNNljq5Nj2KJ999P/BvfQHiLsxjhBm1uMFB5HuAgqYXacw+0u9AAtT7gffgm4sl7k9gNkQjn6szJYDymXuXTzcSz+D2FkB/E4uuhrPKXZiR2ksRNFNGu3/7oJ1Xk+Blf9OT2G0IvWTy+zCS7eAHUNahtk+hdkti4Kf74NZIr0V2bNgDyvs/aja7l+CGl6Mwd8nIAAAAABJRU5ErkJggg=="},1682:n=>{n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAASCAYAAACuLnWgAAACdklEQVRIS62UT2hUVxjFf+e9N6NpIRQFN0qr2I2mtKi0gtgqCiIKLlLiQguldVEQRNSFILXvThShCxURBBcqgu1CMQtBkUKl/tmotKWliZsWrehGUESwYyZv3pEkZJjJZDJT8G3v+XO/893zxDSfHd6hmn+Ko2WIhdhzQEVwBekJ5h+U/0oc3ZTC81ZSmnxg98VUP+gFb8NeAypMd5HxM48gXQOdIv5rQLpQrec0mDj7rg+iQ5j32wu3QIi/Id+npP/CBGLMxA5zyDgNbGym+inSLexBIj3GvELMJPdcpB7slaDZU1heJuFrKTyR3b+Ean4JM68OmGEuovwkSXRdCnmryewQkeWrcPQN4nMgqWHFI+Jok1xJB5EW14n8TJ7t0IyD9/5vZB7+dhFRchxYW+PaQ7LTFWS6CnQBe0nCUQnXG7icvkvk5UTMh6gL8jI5D8h1W12lhw1YI7KwC/geKJN4/fhOKmEpVbrVFX6ZINghYST/EkXbwUtATS9xdJug31F+gjg6K4Wsxi+H1cS8UDH8NgVxzPQTxBmgPsZ26Q1hvlIx3JkMbO5JFjaAB7BmNIDNv8h/Yr1A7sb6EPFeA0YeBvUqCVda9mS8VulnUNtRjjkH1SMqHvijqbiV/R9BvBvxBRCN7QCvV6F0Y1qTMaNX6TpiHQbvVKF0rV1OHklH/wzHqHqPZpZ+ahvXdIJ2mEVW7SGJB6XwrJ15Q+M7AXt0V/Z50Nvgl0ibJ2ffSmfK1zUV2JX0PtL8upI9ULG0oJMLdm4yEoaBYp1oRYXQ+AJbOHZuUkl/QNpSN8mPKpa2vtlJnL5Fhf1E+pjcdylyQCr914nJa3Sq7sjAdwcYAAAAAElFTkSuQmCC"},9745:n=>{n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAiCAYAAABiOJjbAAABSklEQVQ4T3XUwU3DMBhA4edIcOIMQrQXGIA5OgELsADiwgYMARMwAMzBmdICBQpShdpQnLRN8iM7rYODnVNkfbKtJ9uqMxNZfYF+pNJDxmXKHQmXnKkBgOoakIIeWEQxNcPMEU44V7eqm4oUc8ie4KcPq4kFNVIcW1BmkD2D7sPiE5A1Ea4tqJaQjUA/QD4GSjfLmwWygvy9XiIfgRQOVDUoYfFRg+wFZOEANahgOan3oIdQZW0gsG5hQfndAmbXgRZW2SXMT6RFA2It3AyxFg7EWjQg0qIBkRYNiLRwINaiAZEWHgi18ECohQdCLXwQaOGDQAsfBFp4INTCB4EW/0C7heqkUipINqew3cKAVwUHG9BuYcCVglMHWi3UXi6HW0vuFewY1L4jygx2ZtJDcWOQOeN/74gF5tudytF2wgXQK2bs6wGJeS9+AX0Zk5S1h/hWAAAAAElFTkSuQmCC"},1212:(n,e,t)=>{"use strict";t.d(e,{Z:()=>p});var i=function(){var n=this,e=n.$createElement,i=n._self._c||e;return i("div",{staticClass:"equip-status"},[i("div",{staticClass:"status-name",style:"color:"+(0===n.status?"#FF1743":"#29CF7B")},[n._v("\n    "+n._s(0===n.status?"故障":"正常")+"\n  ")]),n._v(" "),n.electricity>0&&n.electricity<=30?i("img",{staticClass:"battery",attrs:{src:t(1868),alt:""}}):n.electricity>30?i("img",{staticClass:"battery",attrs:{src:t(3803),alt:""}}):0===n.electricity?i("img",{staticClass:"battery",attrs:{src:t(5790),alt:""}}):n._e(),n._v(" "),n.signal>-75?i("img",{staticClass:"wifi",attrs:{src:t(1772),alt:""}}):n.signal<=-75&&n.signal>-95?i("img",{staticClass:"wifi",attrs:{src:t(1682),alt:""}}):n.signal<=-95&&n.signal>=-105?i("img",{staticClass:"wifi",attrs:{src:t(2973),alt:""}}):n._e()])};i._withStripped=!0;const a={components:{},props:{electricity:{type:Number,default:0},signal:{type:Number,default:0},status:{type:Number,default:0}},data:function(){return{}},mounted:function(){},methods:{}};var o=t(3379),s=t.n(o),r=t(925),A=t.n(r);s()(A(),{insert:"head",singleton:!1}),A().locals;var l=(0,t(1900).Z)(a,i,[],!1,null,null,null);l.options.__file="src/components/equipStatus/EquipStatus.vue";const p=l.exports},9214:(n,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>D});var i=function(){var n=this,e=n.$createElement,i=n._self._c||e;return i("div",{staticClass:"iotApp-detail"},[i("van-tabs",{attrs:{swipeable:"",color:"#06F0FE","title-active-color":"#06F0FE","title-inactive-color":"#8BA3C2",background:"rgba(16, 23, 32, 1)",sticky:"",ellipsis:""},on:{change:n.tabChange},model:{value:n.active,callback:function(e){n.active=e},expression:"active"}},n._l(n.tabList,(function(e){return i("van-tab",{key:e.index,staticClass:"tab-content",attrs:{title:e.title}},[0===e.index?i("div",[i("div",{staticClass:"iotApp-detail-title"},[i("img",{staticClass:"iotApp-detail-title-icon",attrs:{src:t(9745),alt:""}}),n._v("\n          设备信息\n        ")]),n._v(" "),n._l(n.rowList,(function(n,e){return i("InfoRow",{key:e,attrs:{data:n}})}))],2):n._e(),n._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1===e.index,expression:"item.index===1"}]},[i("div",{staticClass:"demo-carousel"},[i("VideoPlayer",{ref:"equipDetailVideoPlayer",refInFor:!0,staticClass:"vjs-custom-skin",attrs:{options:n.playerOptions},on:{play:function(e){return n.onPlayerPlay(e)},ready:function(e){return n.onPlayerReady(e)}}})],1)]),n._v(" "),2===e.index?i("div",[n._v("\n        日志\n      ")]):n._e()])})),1)],1)};i._withStripped=!0;var a=t(6156),o=t(2137),s=t(7757),r=t.n(s),A=function(){var n=this,e=n.$createElement,i=n._self._c||e;return i("div",{staticClass:"infoRows"},[i("div",{staticClass:"row-name"},[n._v("\n    "+n._s(n.data.name)+"\n  ")]),n._v(" "),"info"===n.data.typed?i("div",{staticClass:"row-info-value"},[n._v("\n    "+n._s(n.data.content)+"\n  ")]):"status"===n.data.typed?i("div",{staticClass:"row-status-value"},[i("EquipStatus",{attrs:{electricity:n.data.content.equipPower,signal:n.data.content.equipSignal,status:n.data.content.onlineType}})],1):"place"===n.data.typed?i("div",{staticClass:"row-place-value",on:{click:function(e){return n.showDetail(n.data.content.placeId)}}},[n._v("\n    "+n._s(n.data.content.name)+"\n    "),i("img",{staticClass:"infoRows-address-icon",attrs:{src:t(4518),alt:""}})]):n._e()])};A._withStripped=!0;const l={components:{EquipStatus:t(1212).Z},props:{data:{type:Object,default:{}}},data:function(){return{}},mounted:function(){},methods:{showDetail:function(n){this.$router.push({path:"/placeResourcDetail",query:{placeId:n}})}}};var p=t(3379),c=t.n(p),u=t(8041),d=t.n(u);c()(d(),{insert:"head",singleton:!1}),d().locals;var f=t(1900),g=(0,f.Z)(l,A,[],!1,null,null,null);g.options.__file="src/components/infoRows/InfoRows.vue";const m=g.exports;var h=t(5784),y=t(8228),C=t(8777),v=t(150),w=t(303);function E(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,i)}return t}function x(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?E(Object(t),!0).forEach((function(e){(0,a.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}const q={name:"EquipDeail",components:{InfoRow:m,VideoPlayer:y.Z},data:function(){return{active:0,tabList:[{index:0,title:"基本信息"},{index:1,title:"实时数据"},{index:2,title:"绑定日志"}],playerOptions:{autoplay:!0,controls:!0,muted:!0,controlBar:{timeDivider:!1,durationDisplay:!1}},rowList:[],equipId:0,equipInfo:{}}},computed:{player:function(){return console.log("dom",this.$refs.equipDetailVideoPlayer[0].player),this.$refs.equipDetailVideoPlayer[0].player}},mounted:function(){var n=this;this.equipId=this.$route.query.id,this.getEquipDetailInfo(),setTimeout((function(){var e,t;Reflect.has(v,"videoUrl")&&(t=v.videoUrl),C.Z.match(n.equipInfo.imei)&&(e=t+"/mag/hls/"+C.Z.match(n.equipInfo.imei)+"/0/live.m3u8"),console.log("视频路径",e),n.playVideo(e)}),1e3)},methods:{tabChange:function(n){console.log("切换tab",n),console.log("imei",this.equipInfo),1===n&&console.log("查看视频")},getEquipDetailInfo:function(){var n=this;return(0,o.Z)(r().mark((function e(){var t,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.Z.equipDtailInfo(n.equipId);case 2:return t=e.sent,i={},200===t.code&&(i=x({},t.data)),e.next=7,h.Z.conversion("equipType","equipType","equipTypeName",i);case 7:return i=e.sent,e.next=10,h.Z.conversion("platformList","platformId","platformName",i);case 10:i=e.sent,n.rowList=[{name:"设备状态:",content:{equipPower:i.equipPower,equipSignal:i.equipSignal,onlineType:i.onlineType},typed:"status"},{name:"设备名称:",content:i.equipName,typed:"info"},{name:"设备型号:",content:i.equipModel,typed:"info"},{name:"设备类型:",content:i.equipName,typed:"info"},{name:"IMEI码:",content:i.imei,typed:"info"},{name:"所属辖区:",content:i.departName,typed:"info"},{name:"安装位置:",content:i.equipAddress,typed:"info"},{name:"所属网点:",content:{name:i.placeName,placeId:i.placeId},typed:"place"},{name:"物联网平台:",content:"OneNet",typed:"info"}],n.equipInfo=i;case 13:case"end":return e.stop()}}),e)})))()},onPlayerPlay:function(n){this.player.play()},onPlayerReady:function(n){console.log("准备播放",this.$refs.equipDetailVideoPlayer[0].player,n),this.player.play()},playVideo:function(n){var e={withCredentials:!1,type:"application/x-mpegurl",src:n};console.log("播放器",this.player),this.player.reset(),this.player.src(e),this.player.play()}}};var I=t(3952),B=t.n(I);c()(B(),{insert:"head",singleton:!1}),B().locals;var b=(0,f.Z)(q,i,[],!1,null,null,null);b.options.__file="src/views/aiot/iotAppDetail.vue";const D=b.exports},8041:(n,e,t)=>{var i=t(9729);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.id,i,""]]),i.locals&&(n.exports=i.locals),(0,t(5346).Z)("2d44826a",i,!1,{})},3952:(n,e,t)=>{var i=t(2126);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.id,i,""]]),i.locals&&(n.exports=i.locals),(0,t(5346).Z)("403c02c3",i,!1,{})},925:(n,e,t)=>{var i=t(7714);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.id,i,""]]),i.locals&&(n.exports=i.locals),(0,t(5346).Z)("5191edbc",i,!1,{})}}]);
//# sourceMappingURL=214.c1b59207.js.map